<!doctype html>
<html lang="en">
<head>
  <!-- Head content here -->
</head>
<body id="top">
  <main>
    <nav class="navbar navbar-expand-lg">
      <!-- Navbar content here -->
    </nav>     
    <!-- New Section Start -->
    <section class="new-section">
      <div class="container">
        <div class="row">
          <div class="col-12 col-lg-8 mx-auto">
            <div class="form-container">
              <h2 class="text-center">Inscription</h2>
              <% if (messages.error && messages.error.length > 0) { %>
                <div class="alert alert-danger">
                  <% messages.error.forEach(function(error) { %>
                    <p><%= error %></p>
                  <% }); %>
                </div>
              <% } %>
              <form action="/register" method="POST">
                <div class="mb-3">
                  <label for="username" class="form-label">Nom d'utilisateur</label>
                  <input type="text" class="form-control" id="username" name="username" required>
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="mb-3">
                  <label for="firstName" class="form-label">Prénom</label>
                  <input type="text" class="form-control" id="firstName" name="firstName" required>
                </div>
                <div class="mb-3">
                  <label for="lastName" class="form-label">Nom</label>
                  <input type="text" class="form-control" id="lastName" name="lastName" required>
                </div>
                <div class="mb-3">
                  <label for="role" class="form-label">Rôle</label>
                  <input type="text" class="form-control" id="role" name="role" required>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Mot de passe</label>
                  <div class="input-group">
                    <input type="password" class="form-control" id="password" name="password" required>
                    <div class="input-group-append">
                      <span class="input-group-text toggle-password" id="togglePassword"><i class="bi bi-eye"></i></span>
                    </div>
                  </div>
                  <small class="form-text text-muted">Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un symbole spécial.</small>
                </div>
                <div class="mb-3">
                  <label for="confirmPassword" class="form-label">Confirmez le mot de passe</label>
                  <div class="input-group">
                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                    <div class="input-group-append">
                      <span class="input-group-text toggle-password" id="toggleConfirmPassword"><i class="bi bi-eye"></i></span>
                    </div>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="inviteCode" class="form-label">Code d'invitation</label>
                  <input type="text" class="form-control" id="inviteCode" name="inviteCode" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">Créer un compte</button>
              </form>
              <div class="mt-3 text-center">
                <span>Vous avez déjà un compte ? <a href="/login">Connectez-vous ici</a></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- New Section End -->
  </main>
  <footer class="site-footer section-padding">
    <!-- Footer content here -->
  </footer>
  <!-- JAVASCRIPT FILES -->
  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.bundle.min.js"></script>
  <script src="/js/custom.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      const togglePassword = document.querySelector('#togglePassword');
      const password = document.querySelector('#password');
      togglePassword.addEventListener('click', function (e) {
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
      });
      const toggleConfirmPassword = document.querySelector('#toggleConfirmPassword');
      const confirmPassword = document.querySelector('#confirmPassword');
      toggleConfirmPassword.addEventListener('click', function (e) {
        const type = confirmPassword.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPassword.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
      });
    });
  </script>
</body>
</html>
